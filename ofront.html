<h1 id="name">NAME</h1>
<p>ofront - Oberon-2 to C Translator</p>
<h1 id="synopsis-ebnf">SYNOPSIS (EBNF)</h1>
<p>command = &quot;ofront&quot; options {path options}.</p>
<p>options = [&quot;-&quot; {option} ].</p>
<p>option = &quot;m&quot; | &quot;s&quot; | &quot;e&quot; | &quot;i&quot; | &quot;r&quot; | &quot;x&quot; | &quot;a&quot; | &quot;p&quot; |&quot;t&quot;.</p>
<h1 id="description">DESCRIPTION</h1>
<p>ofront is a tool that translates Oberon-2 programs into semantically equivalent C programs. Full error analysis is performed on the Oberon input program and in case of no errors, up to three files are generated as output:</p>
<p>1. an Oberon symbol file (suffix .sym)</p>
<p>2. a C header file (suffix .h)</p>
<p>3. a C body file (suffix .c).</p>
<p>The C header and body files follow widely used C programming conventions. Ofront is also capable of generating main programs by translating the body of a module into a C main function (see option -m). In this case only the body file is generated. Ofront does not invoke the C compiler or linkage editor. This may be done in separate shell scripts or make files and is inherently dependent on the C compiler and linkage editor being used. Ofront accepts an arbitrary number of input file parameters. Every file is expected to contain one Oberon module. Oberon source files typically (but not necessarily) have the file name extension .Mod. Options affecting the translation process may be specified immediately after the command name or after a file name. The former apply to all files, the latter only to the preceeding one; thus, the order in which file names and options are specified is important. Specifying an option twice has no additional effect. Note that options must not contain whitespace.</p>
<h1 id="options">OPTIONS</h1>
<dl>
<dt>-m</dt>
<dd><p>generate a main module (default off)</p>
</dd>
</dl>
<p>This option signals Ofront that the module body should be translated into a C main function, which is the entry point of an application. Every application consists of exactly one main module. Modules which are intended for a library should never be compiled with option m.</p>
<dl>
<dt>-s</dt>
<dd><p>allow changing the symbol file (default off)</p>
</dd>
</dl>
<p>The interface of an Oberon module is represented in a compact and efficient form in the module's symbol file (suffix .sym). Changing the symbol file of a module therefore means changing the interface of the module. An example of such a change is to insert, rename or delete an exported type, variable or procedure. Those clients, which depend on the changed feature have to be adapted to the new interface and recompiled. Note that, unlike earlier Modula-2 or Oberon-2 compilers, only those clients of the module that depend on the changed feature(s) need to be recompiled, not all modules which import the changed service module. The new fine-grained interface checking supports the evolution of software over time much better than its coarse grained predecessor. To avoid unintended interface changes, this option is turned off by default.</p>
<dl>
<dt>-e</dt>
<dd><p>allow extending the module interface (default off)</p>
</dd>
</dl>
<p>This option is similar to s but restricts interface changes to extensions. For example, it is possible to export additional global variables or procedures if option e is specified. Renaming or deleting a procedure or variable is not allowed. To avoid unintended interface extensions, this option is turned off by default.</p>
<dl>
<dt>-i</dt>
<dd><p>include header and body prefix files (default off)</p>
</dd>
</dl>
<p>Specifying this option enables the inclusion of C code that is prepended to the generated header and body files. For a module M, the header and body prefix files are expected to be named M.h0 and M.c0 respectively. Non-existing prefix files are silently ignored.</p>
<dl>
<dt>-r</dt>
<dd><p>check value ranges (default off)</p>
</dd>
</dl>
<p>Specifying this option turns on value range checking such as checking if SHORT of a LONGINT variable is in the INTEGER value range. Since this option is not related to memory integrity, it is turned off by default.</p>
<dl>
<dt>-x</dt>
<dd><p>check array indices (default on)</p>
</dd>
</dl>
<p>Specifying this option turns off array index bounds checking. Since index checks are inlined and consist only of a single unsigned compare, they are very fast and it is normally not necessary to turn them off in order to get good performance. Furthermore, optimizers can remove index checks in many places without giving up security.</p>
<dl>
<dt>-a</dt>
<dd><p>check assertions (default on)</p>
</dd>
</dl>
<p>Specifying this option turns off run-time checking of ASSERT statements. Use this option only in carefully tested production code when utmost efficiency is required. An unchecked assertion is nothing but a comment.</p>
<dl>
<dt>-p</dt>
<dd><p>pointer initialization (default on)</p>
</dd>
</dl>
<p>Specifying this option turns off automatic pointer initialization. Note that Oberon does not specify the value of local pointer variables before they are assigned a value. Even with pointer initialization, it is not correct to make assumptions about the initial value of a pointer. In particular, it is not allowed to assume that they are set to NIL. Pointer initialization is a technique to ensure memory integrity even in case of erroneous programs and/or to detect uninitialized pointers as soon as possible.</p>
<dl>
<dt>-t</dt>
<dd><p>check type guards (default on)</p>
</dd>
</dl>
<p>Specifying this option turns off run-time type guard checking. Since type guard checks are very efficient anyway and undetected type guard failures can easily destroy memory integrity, we recommend using this option only in very rare cases such as low-level modules where every machine cycle counts.</p>
<h1 id="example">EXAMPLE</h1>
<p>% ofront -sr M1.Mod M2.Mod M3.Mod -m</p>
<p>translates three modules with generation of new symbol files being allowed (option s), range checking switched on (option r) and treating module M3 as a main program.</p>
<h1 id="environment">ENVIRONMENT</h1>
<dl>
<dt>OBERON</dt>
<dd><p>a colon-separated list of directories in which ofront searches for input files. If OBERON is not defined, files are only searched in the current working directory. Note that shell specific characters like &quot;~&quot; are not supported by ofront. The environment variable OBERON may be set e.g.Â under the bash shell by</p>
</dd>
</dl>
<p>% export OBERON=.:Mylib:OberonLib</p>
<h1 id="files">FILES</h1>
<dl>
<dt>temporary files</dt>
<dd><p>ofront allocates temporary files prefixed with '.tmp.' and the process id in the current working directory. If the ofront process terminates abnormally, temporary files may survive and should be explicitly deleted by the user. Do not delete .tmp.* files while ofront is using them.</p>
</dd>
</dl>
<h1 id="documentation">DOCUMENTATION</h1>
<p>For more details about ofront please refer to the Ofront User Guide, which is provided as Oberon text file (OfrontUser.Text).</p>
<h1 id="copyright">COPYRIGHT</h1>
<p>Copyright 1995 by Josef Templ.</p>
<p>Transferred to the Free BSD License in 2012.</p>
<h1 id="authors">AUTHORS</h1>
<p>Design and implementation of ofront is due to Josef Templ. Comments or suggestions may be sent to Josef.Templ@gmail.com. ofront has been based in part on Regis Crelier's PhD thesis and Stefan Gehring's diploma thesis, both at ETH Zurich, Institute for Computer Systems.</p>
<p>Project ofront is hosted on https://github.com/jtempl/ofront.</p>
